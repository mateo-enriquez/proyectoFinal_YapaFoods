<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="proyectoFinal_YapaFoods.Views.ForgotPasswordPage"
             Title="Recuperar Contraseña">

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="20">
            <Label Text="Restablecer Contraseña" FontSize="22" FontAttributes="Bold" TextColor="Black" HorizontalOptions="Center"/>

            <Entry Placeholder="Ingresa tu correo registrado" Text="{Binding Correo}" Keyboard="Email" TextColor="Black" BackgroundColor="#F0F0F0"/>

            <Button Text="Enviar Código OTP" Command="{Binding SendCommand}" IsVisible="{Binding IsCodeSent, Converter={StaticResource InvertedBoolConverter}}" BackgroundColor="#D32F2F"/>

            <VerticalStackLayout Spacing="15" IsVisible="{Binding IsCodeSent}">
                <Label Text="Código OTP recibido:" TextColor="Gray"/>
                <Entry Placeholder="123456" Text="{Binding Codigo}" Keyboard="Numeric" TextColor="Black" BackgroundColor="#F0F0F0"/>

                <Label Text="Nueva Contraseña:" TextColor="Gray"/>
                <Entry Placeholder="Nueva contraseña" Text="{Binding NewPassword}" IsPassword="True" TextColor="Black" BackgroundColor="#F0F0F0"/>

                <Button Text="Confirmar Cambio" Command="{Binding ResetCommand}" BackgroundColor="#4CAF50"/>
            </VerticalStackLayout>

            <ActivityIndicator IsRunning="{Binding IsBusy}" IsVisible="{Binding IsBusy}" Color="#D32F2F"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>